<app-nav-bar></app-nav-bar>
<ion-content>
  <div class="container">
    <div class="container-auth">
      <h1>REGISTER</h1>

      @if (_authForm(); as authForm) {
        <form
          [formGroup]="authForm"
          autocomplete="off"
          novalidate
          (ngSubmit)="onSubmit()"
        >
          <app-input-field
            _name="userName"
            _label="User Name"
            _placeholder="..."
            _icon="person-outline"
            [_errorMessage]="getErrorMsg('userName')"
          />

          <app-input-field
            _name="password"
            _type="password"
            _label="Password"
            _placeholder="..."
            _icon="lock-closed-outline"
            [_errorMessage]="getErrorMsg('password')"
            (_blur)="updateMismatchPasswordState(authForm)"
          />

          <app-input-field
            _name="passwordConfirm"
            _type="password"
            _label="Password Confirmation"
            _placeholder="..."
            _icon="lock-closed-outline"
            [_errorMessage]="getErrorMsg('passwordConfirm')"
            (_blur)="updateMismatchPasswordState(authForm)"
          />

          <ion-button
            [disabled]="!authForm.valid"
            expand="block"
            type="submit"
            size="large"
          >
            Register
          </ion-button>
        </form>

        <div class="auth-error">{{ _errorMessage() }}</div>
      }
    </div>
  </div>
</ion-content>
